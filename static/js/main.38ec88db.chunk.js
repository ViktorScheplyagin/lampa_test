(this.webpackJsonplampa_test=this.webpackJsonplampa_test||[]).push([[0],{103:function(e,t,a){e.exports={button_default_styles:"Button_button_default_styles__1ak54"}},104:function(e,t,a){e.exports={page_layout_content:"Layout_page_layout_content__2JH7o"}},105:function(e,t,a){e.exports={card:"Card_card__120to"}},106:function(e,t,a){e.exports={quantity_control_container:"QuantityControls_quantity_control_container__3GyJw"}},109:function(e,t,a){e.exports=a(217)},177:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(48),i=a.n(c),o=a(36),l=a(6),u=a(14),s=a(7),m=a(107),d=a(13),_=function(e){return{type:"ADD_PRODUCT_TO_CART",payload:e}},p=function(e){return{type:"REMOVE_PRODUCT_FROM_CART",payload:e}},f=function(e){return{type:"TOGGLE_IS_ORDER_SUBMITTING",payload:e}},v=function(e){return{type:"TOGGLE_IS_PRODUCTS_FETCHING",payload:e}},g=function(e){return{type:"TOGGLE_IS_PRODUCT_ADDING",payload:e}},E=function(e){return{type:"TOGGLE_IS_PRODUCT_REMOVING",payload:e}},h={items:[],isOrderSubmitting:!1,isProductsFetching:!1,isProductAdding:!1,isProductRemoving:!1},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT_TO_CART":return Object(d.a)({},e,{items:[].concat(Object(m.a)(e.items),[t.payload])});case"REMOVE_PRODUCT_FROM_CART":var a=e.items,r=a.indexOf(t.payload);return Object(d.a)({},e,{items:a.filter((function(e,t){return t!==r}))});case"FETCH_CART_ITEMS":return Object(d.a)({},e,{items:t.payload});case"TOGGLE_IS_ORDER_SUBMITTING":return Object(d.a)({},e,{isOrderSubmitting:t.payload});case"TOGGLE_IS_PRODUCTS_FETCHING":return Object(d.a)({},e,{isProductsFetching:t.payload});case"TOGGLE_IS_PRODUCT_ADDING":return Object(d.a)({},e,{isProductAdding:t.payload});case"TOGGLE_IS_PRODUCT_REMOVING":return Object(d.a)({},e,{isProductRemoving:t.payload});default:return e}},b=function(e){return{type:"FETCH_NEW_PRODUCTS",payload:e}},y=function(e){return{type:"TOGGLE_IS_PRODUCTS_FETCHING",payload:e}},w={products:[],isProductsFetching:!1,isProductsAddingToCart:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEW_PRODUCTS":return Object(d.a)({},e,{products:t.payload});case"TOGGLE_IS_PRODUCTS_FETCHING":return Object(d.a)({},e,{isProductsFetching:t.payload});default:return e}},N=a(220),C=a(101),x=Object(s.c)({home:I,cart:O,form:N.a}),T=Object(s.d)(x,Object(s.a)(C.a)),P=(a(177),a(52)),S=a(103),R=a.n(S),D=function(e){var t=e.onClick,a=e.style,r=e.children,c=Object(P.a)(e,["onClick","style","children"]);return n.a.createElement("button",Object.assign({className:R.a.button_default_styles,style:Object(d.a)({},a),onClick:t},c),r)},L=a(53),j=a.n(L),k=function(e){var t=e.totalCartItemsPrice;return n.a.createElement("div",{className:j.a.navbar},n.a.createElement("div",{className:j.a.pages_navigation},n.a.createElement(o.b,{to:"/"},"Home")),n.a.createElement("div",{className:j.a.tocart_link_wrapper},n.a.createElement("div",null,t?"Total: $".concat(t):null),n.a.createElement(o.b,{to:"/cart"},n.a.createElement(D,{style:{height:"2.5em",width:"5em"}},"Cart"))))},G=function(e,t){return function(a){var r={clientData:a,content:function(){var t=[];for(var a in e)t.push(e[a]);return t}()};t(r)}},F=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return e+t.price}),0)},U=Object(u.b)((function(e){return{totalCartItemsPrice:F(e.cart.items)}}))(k),A=a(74),q=a.n(A),H=function(){return n.a.createElement("div",{className:q.a.header},n.a.createElement("div",{className:q.a.header_content},n.a.createElement(U,null)))},J=a(104),M=a.n(J),B=function(e){var t=e.children;return n.a.createElement(n.a.Fragment,null,n.a.createElement(H,null),n.a.createElement("div",{className:M.a.page_layout_content},t))},W=a(105),$=a.n(W),z=function(e){var t=e.children;return n.a.createElement("div",{className:$.a.card},t)},V=a(31),Q=a.n(V),Z=function(e){var t=e.product,a=e.onAddToCart,r=e.isDisabled;return n.a.createElement("div",{className:Q.a.product_item_wrapper},n.a.createElement(z,null,n.a.createElement("img",{className:Q.a.preview_image,src:"".concat(t.previewURL,"/?text=").concat(t.name),alt:"item preview"}),n.a.createElement("div",{className:Q.a.text_info},n.a.createElement("p",{className:Q.a.description},t.description),n.a.createElement("button",{className:Q.a.add_to_cart_btn,disabled:r,onClick:function(){return a(t)}},n.a.createElement("span",null,"Add to cart"),n.a.createElement("span",null,"$".concat(t.price))))))},X=a(75),Y=a.n(X),K=a(49),ee=a.n(K),te=a(50),ae=a.n(te),re=function(e){var t=e.products,a=e.addToCart,r=e.isProductsFetching,c=e.isProductAddingToCart;return n.a.createElement(B,null,n.a.createElement("div",{className:ee.a.container},r?n.a.createElement("div",{className:Y.a.spinner_wrapper},n.a.createElement("img",{src:ae.a,alt:"spinner"})):n.a.createElement("div",{className:Y.a.grid_layout},null===t||void 0===t?void 0:t.map((function(e){return n.a.createElement(Z,{key:e.id,product:e,onAddToCart:a,isDisabled:c})})))))},ne=function(e){var t=e.fetchProducts,a=e.fetchCartItems,c=e.cartItemsLength,i=Object(P.a)(e,["fetchProducts","fetchCartItems","cartItemsLength"]);return Object(r.useEffect)((function(){0===i.products.length&&t(),0===c&&a()}),[]),n.a.createElement(re,i)},ce=a(9),ie=a.n(ce),oe=a(19),le=function(){return function(){var e=Object(oe.a)(ie.a.mark((function e(t){var a,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0)),e.next=3,new Promise((function(e){setTimeout((function(){var t=localStorage.getItem("all");e(t)}),2e3)}));case 3:a=e.sent,r=JSON.parse(a),t(y(!1)),t(b(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ue=function(e){return Object(oe.a)(ie.a.mark((function t(){var a,r,n,c=arguments;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=c.length,r=new Array(a),n=0;n<a;n++)r[n]=c[n];return t.abrupt("return",new Promise((function(t){setTimeout((function(){t(e.apply(void 0,r))}),2e3)})));case 2:case"end":return t.stop()}}),t)})))},se=ue((function(){return localStorage.getItem("cart")})),me=ue((function(e){var t=JSON.parse(localStorage.getItem("cart"));return localStorage.removeItem("cart"),t.push(e),localStorage.setItem("cart",JSON.stringify(t)),localStorage.getItem("cart")})),de=ue((function(e){var t=JSON.parse(localStorage.getItem("cart")),a=t.map((function(e){return e.id})).indexOf(e),r=t.filter((function(e,t){return t!==a}));return localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify(r)),localStorage.getItem("cart")})),_e=ue((function(e){console.log(e)})),pe=function(){return function(){var e=Object(oe.a)(ie.a.mark((function e(t){var a,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0)),e.next=3,se();case 3:a=e.sent,r=JSON.parse(a),t(v(!1)),t({type:"FETCH_CART_ITEMS",payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe=function(e){return function(){var t=Object(oe.a)(ie.a.mark((function t(a){return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(g(!0)),t.next=3,me(e);case 3:a(_(e)),a(g(!1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=Object(u.b)((function(e){var t=e.home,a=e.cart;return{products:t.products,cartItemsLength:a.items.length,isProductsFetching:t.isProductsFetching,isProductAddingToCart:a.isProductAdding}}),{addToCart:fe,fetchProducts:le,fetchCartItems:pe})(ne),ge=a(106),Ee=a.n(ge),he={width:"1.5em",height:"1.5em",fontSize:"1.2em"},Oe=function(e){var t=e.onIncrement,a=e.onDecrement,r=e.value,c=e.isDisabled;return n.a.createElement("div",{className:Ee.a.quantity_control_container},n.a.createElement(D,{onClick:t,style:he,disabled:c},"+"),n.a.createElement("div",null,r),n.a.createElement(D,{onClick:a,style:he,disabled:c},"-"))},be=a(26),ye=a.n(be),we=function(e){var t=e.increment,a=e.decrement,r=e.item,c=e.quantity,i=e.isDisabled;return n.a.createElement("div",{className:ye.a.cart_item_wrapper},n.a.createElement(z,null,n.a.createElement("div",{className:ye.a.cart_item_container},n.a.createElement("div",{className:ye.a.preview_image_wrapper},n.a.createElement("img",{className:ye.a.preview_image,src:"".concat(r.previewURL,"/?text=").concat(r.name),alt:"preview"})),n.a.createElement("div",{className:ye.a.text_info_quantity_controls_container},n.a.createElement("p",{className:ye.a.description},n.a.createElement("span",null,r.description),n.a.createElement("span",null,"Price: $",r.price)),n.a.createElement(Oe,{isDisabled:i,onIncrement:function(){return t(r)},onDecrement:function(){return a(r)},value:c})))))},Ie=a(219),Ne=a(218),Ce=function(e){return e?void 0:"Required"},xe=function(e){return e&&/[^a-zA-Z ]/i.test(e)?"Only letter characters":void 0},Te=function(e){return e&&!/^(0|[1-9][0-9]{9})$/i.test(e)?"Invalid phone number, must be 10 digits":void 0},Pe=a(23),Se=a.n(Pe),Re=function(e){var t=e.input,a=e.placeholder,r=e.type,c=e.className,i=e.meta,o=i.touched,l=i.error;return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({className:c,placeholder:a,type:r},t)),n.a.createElement("div",{className:Se.a.order_form_field_error},o&&l?n.a.createElement("span",null,l):null))},De=Object(Ne.a)({form:"order"})((function(e){return n.a.createElement("div",{className:Se.a.order_form_card_wrapper},n.a.createElement(z,null,n.a.createElement("form",{onSubmit:e.handleSubmit,className:Se.a.order_form},n.a.createElement(Ie.a,{className:Se.a.order_form_field,label:"aaa",component:Re,name:"name",type:"text",placeholder:"name",validate:[xe,Ce]}),n.a.createElement(Ie.a,{className:Se.a.order_form_field,component:Re,name:"surname",type:"text",placeholder:"surname",validate:[xe,Ce]}),n.a.createElement(Ie.a,{className:Se.a.order_form_field,component:Re,name:"address",type:"text",placeholder:"address",validate:Ce}),n.a.createElement(Ie.a,{className:Se.a.order_form_field,component:Re,name:"phone",type:"text",placeholder:"phone",validate:[Ce,Te]}),n.a.createElement(D,{style:{width:"100%",fontSize:"1.3em",fontWeight:"bolder",marginTop:"1em"}},"Order"))))})),Le=a(39),je=a.n(Le),ke=function(e){var t=e.itemsComponents,a=e.isProductsFetching,r=e.onOrderSubmit,c=e.totalPrice;return n.a.createElement(B,null,n.a.createElement("div",{className:ee.a.container},n.a.createElement("div",{className:je.a.flex_container},n.a.createElement("div",{className:je.a.items_container},a?n.a.createElement("div",null,n.a.createElement("img",{src:ae.a,alt:"spinner"})):t),n.a.createElement(De,{onSubmit:r})),c&&n.a.createElement("div",{className:je.a.cart_total_price},"Total: ","$".concat(c))))},Ge=function(e){var t=e.productsLength,a=e.items,c=e.isProductsFetching,i=e.isProductAdding,o=e.isProductRemoving,l=e.fetchProducts,u=e.fetchCartItems,s=e.addItem,m=e.removeItem,d=e.submitOrder,_=function(e){var t={};return e.forEach((function(e){void 0===t[e.id]?t[e.id]={item:e,quantity:1}:t[e.id].quantity+=1})),t}(a);Object(r.useEffect)((function(){0===t&&l(),0===a.length&&u()}),[]);return n.a.createElement(ke,{itemsComponents:function(){var e=[];for(var t in _){var a=_[t],r=a.item,l=a.quantity;e.push(n.a.createElement("div",{key:r.id,className:je.a.cart_item_container},n.a.createElement(we,{item:r,increment:s,decrement:m,quantity:l,isDisabled:i||o||c})))}return e}(),onOrderSubmit:G(_,d),isProductsFetching:c,totalPrice:F(a)})},Fe=Object(u.b)((function(e){var t=e.home,a=e.cart;return{items:a.items,productsLength:t.products.length,isProductsFetching:a.isProductsFetching,isProductAdding:a.isProductAdding,isProductRemoving:a.isProductRemoving}}),{addItem:fe,removeItem:function(e){return function(){var t=Object(oe.a)(ie.a.mark((function t(a){return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(E(!0)),t.next=3,de(e.id);case 3:a(p(e)),a(E(!1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},submitOrder:function(e){return function(){var t=Object(oe.a)(ie.a.mark((function t(a){return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(f(!0)),t.next=3,_e(e);case 3:a(f(!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchProducts:le,fetchCartItems:pe})(Ge),Ue=JSON.stringify([{id:"1",name:"Lorem",previewURL:"https://fakeimg.pl/300x250",description:"Laborum ea nisi deserunt non sunt dolor magna qui sunt dolore.",price:12},{id:"2",name:"Laborum",previewURL:"https://fakeimg.pl/300x250",description:"Dolore ea magna fugiat reprehenderit et duis fugiat.",price:45},{id:"3",name:"Nisi",previewURL:"https://fakeimg.pl/300x250",description:"Dolore quis laborum nulla ad excepteur id sit labore.",price:32},{id:"4",name:"Dolore",previewURL:"https://fakeimg.pl/300x250",description:"Pariatur ea pariatur enim fugiat pariatur cupidatat.",price:50},{id:"5",name:"Pariatur",previewURL:"https://fakeimg.pl/300x250",description:"Nulla nulla laborum occaecat velit enim reprehenderit voluptate in excepteur velit amet cillum nisi.",price:100},{id:"6",name:"Nulla",previewURL:"https://fakeimg.pl/300x250",description:"Cupidatat duis in proident irure sit aute consequat esse sunt consequat do.",price:99},{id:"7",name:"Cupidatat",previewURL:"https://fakeimg.pl/300x250",description:"Laborum magna non voluptate non aliquip.",price:23},{id:"8",name:"Tempor",previewURL:"https://fakeimg.pl/300x250",description:"Lorem enim duis in excepteur laborum sint fugiat esse fugiat cupidatat laborum nulla.",price:87},{id:"9",name:"Occaecat",previewURL:"https://fakeimg.pl/300x250",description:"Tempor nulla enim eu ad commodo sit qui tempor.",price:29},{id:"10",name:"Excepteur",previewURL:"https://fakeimg.pl/300x250",description:"Occaecat excepteur consequat aute sit mollit ipsum incididunt irure veniam aliquip sint.",price:39}]),Ae=function(){return Object(r.useEffect)((function(){var e=localStorage.getItem("all"),t=localStorage.getItem("cart");e||localStorage.setItem("all",Ue),t||localStorage.setItem("cart",JSON.stringify([]))}),[]),n.a.createElement(u.a,{store:T},n.a.createElement(o.a,{basename:"/lampa_test/"},n.a.createElement(l.c,null,n.a.createElement(l.a,{exact:!0,path:"/"},n.a.createElement(ve,null)),n.a.createElement(l.a,{exact:!0,path:"/cart"},n.a.createElement(Fe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},23:function(e,t,a){e.exports={order_form_card_wrapper:"OrderForm_order_form_card_wrapper__u1HiD",order_form:"OrderForm_order_form__1DNUI",order_form_field:"OrderForm_order_form_field__3PuAC",order_form_field_error:"OrderForm_order_form_field_error__1RAyZ",flex_container:"OrderForm_flex_container__36AoL"}},26:function(e,t,a){e.exports={cart_item_wrapper:"CartItem_cart_item_wrapper__1M9-B",cart_item_container:"CartItem_cart_item_container__NzO5I",preview_image_wrapper:"CartItem_preview_image_wrapper__26wJu",preview_image:"CartItem_preview_image__29IIp",description:"CartItem_description__3imNG",text_info_quantity_controls_container:"CartItem_text_info_quantity_controls_container__3MdOW"}},31:function(e,t,a){e.exports={product_item_wrapper:"ProductItem_product_item_wrapper__16gfm",preview_image:"ProductItem_preview_image__F7cq6",text_info:"ProductItem_text_info__12at2",add_to_cart_btn:"ProductItem_add_to_cart_btn__3LH4B"}},39:function(e,t,a){e.exports={flex_container:"Cart_flex_container__3g1bJ",items_container:"Cart_items_container__1NnzV",cart_item_container:"Cart_cart_item_container__2Ihje",cart_total_price:"Cart_cart_total_price__2q_tv"}},49:function(e,t,a){e.exports={container:"common_container__2vSHu"}},50:function(e,t,a){e.exports=a.p+"static/media/spinner.07073b21.svg"},53:function(e,t,a){e.exports={navbar:"NavBar_navbar__3US-l",pages_navigation:"NavBar_pages_navigation__3NRCm",tocart_link_wrapper:"NavBar_tocart_link_wrapper__11H3X"}},74:function(e,t,a){e.exports={header:"Header_header__3Yvv6",header_content:"Header_header_content__-3WQL"}},75:function(e,t,a){e.exports={grid_layout:"Home_grid_layout__7omfO",spinner_wrapper:"Home_spinner_wrapper__3L5R3"}}},[[109,1,2]]]);
//# sourceMappingURL=main.38ec88db.chunk.js.map